<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>post request</title>
</head>

<body>
    <!--  used when we want to send the data on server

    a fetch api returns a promise that resolves to response object 
    so if we use let p = await fetch(something ) the resolved value of fetch ,which is response object is stored inside the  p 
    and response object not only contains data but also information about the fetch request 
    so in oder to get access only to the data we have to use the response.json in the video harry is storing the response object in p so it will become p.json .p.json returns a proomise that resolves to the data we want to get from the server and harry is storing that data in response varible and then returning the response (data in this case )
    and whatever and async function returns is converted into a resolved value of a promise -->

    <!-- javascript*** -->
    <script>

        const createTodo = async (todo) => {
            // creating option method to add to fetch 
            let options = {
                method: "POST",
                headers: {
                    "Content-type": "application/json"
                },
                body: JSON.stringify(todo) //converts js obj into string
            }

            let p = await fetch('https://jsonplaceholder.typicode.com/posts', options)
            let response = await p.json()
            return response
        }

        getTodo = async (id) => {   // to get the promise data through its id
            let response = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}`)  // append id with url using ${id}
            let r = await response.json()
            return r

        }

        const mainfunc = async () => {
            let todo = {
                title: "harry",
                body: "bhai",
                userId: 100
            }
            let todo_res = await createTodo(todo) // to create to do
            console.log(todo_res)
            let get = await getTodo(5) // to get todo 
            console.log(get)   
        }

        mainfunc()




    </script>

</body>

</html>